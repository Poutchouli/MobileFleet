{% extends "base.html" %}

{% block title %}Flotte Télégestion - Admin{% endblock %}

{% block page_title %}Flotte Télégestion{% endblock %}

{% block content %}
<!-- Fleet Navigation -->
<div class="mb-6">
    <div class="border-b border-gray-200">
        <nav class="-mb-px flex">
            <button id="phones-tab" class="tab-button active" data-tab="phones">
                Téléphones
            </button>
            <button id="sims-tab" class="tab-button" data-tab="sims">
                Cartes SIM
            </button>
            <button id="phone-numbers-tab" class="tab-button" data-tab="phone-numbers">
                Numéros de Téléphone
            </button>
            <button id="workers-tab" class="tab-button" data-tab="workers">
                Travailleurs
            </button>
        </nav>
    </div>
</div>

<!-- Phones Tab -->
<div id="phones-panel" class="tab-panel active">
    <div class="custom-card">
        <div class="card-header">
            <h2 class="card-title">{{ _('Phone Management') }}</h2>
            <button id="add-phone-btn" class="btn-primary">Ajouter un Nouvel Utilisateur</button>
        </div>
        <div class="p-4">
            <div class="overflow-x-auto">
                <table id="phones-table" class="custom-table w-full">
                    <thead>
                        <tr>
                            <th>Étiquette d'Actif</th>
                            <th>IMEI</th>
                            <th>{{ _('Manufacturer') }}</th>
                            <th>Modèle</th>
                            <th>Statut du Téléphone</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- SIM Cards Tab -->
<div id="sims-panel" class="tab-panel">
    <div class="custom-card">
        <div class="card-header">
            <h2 class="card-title">{{ _('SIM Card Management') }}</h2>
            <button id="add-sim-btn" class="btn-primary">Ajouter un Nouvel Utilisateur</button>
        </div>
        <div class="p-4">
            <div class="overflow-x-auto">
                <table id="sims-table" class="custom-table w-full">
                    <thead>
                        <tr>
                            <th>ICCID</th>
                            <th>Opérateur</th>
                            <th>Numéros de Téléphone</th>
                            <th>Statut du Téléphone</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Phone Numbers Tab -->
<div id="phone-numbers-panel" class="tab-panel">
    <div class="custom-card">
        <div class="card-header">
            <h2 class="card-title">{{ _('Phone Numbers Management') }}</h2>
            <button id="add-phone-number-btn" class="btn-primary">{{ _('Add New Number') }}</button>
        </div>
        <div class="p-4">
            <div class="overflow-x-auto">
                <table id="phone-numbers-table" class="custom-table w-full">
                    <thead>
                        <tr>
                            <th>Numéros de Téléphone</th>
                            <th>{{ _('SIM ICCID') }}</th>
                            <th>Opérateur</th>
                            <th>{{ _('Assignment Status') }}</th>
                            <th>Téléphone Assigné</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Workers Tab -->
<div id="workers-panel" class="tab-panel">
    <div class="custom-card">
        <div class="card-header">
            <h2 class="card-title">{{ _('Workers Management') }}</h2>
            <button id="add-worker-btn" class="btn-primary">Ajouter un Nouvel Utilisateur</button>
        </div>
        <div class="p-4">
            <div class="overflow-x-auto">
                <table id="workers-table" class="custom-table w-full">
                    <thead>
                        <tr>
                            <th>Travailleurs</th>
                            <th>Nom Complet</th>
                            <th>Secteur</th>
                            <th>Statut du Téléphone</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data loaded dynamically -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Modals will be loaded dynamically here -->
<div id="modal-container"></div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tab switching functionality
        function initTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanels = document.querySelectorAll('.tab-panel');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    // Remove active class from all buttons and panels
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanels.forEach(panel => panel.classList.remove('active'));

                    // Add active class to clicked button and corresponding panel
                    button.classList.add('active');
                    document.getElementById(`${targetTab}-panel`).classList.add('active');

                    // Load data for the active tab if not already loaded
                    loadTabData(targetTab);
                });
            });
        }

        // Data loading functions
        let loadedTabs = new Set();

        function loadTabData(tabName) {
            if (loadedTabs.has(tabName)) return;

            switch(tabName) {
                case 'overview':
                    loadOverviewData();
                    break;
                case 'phones':
                    loadPhonesData();
                    break;
                case 'sims':
                    loadSimsData();
                    break;
                case 'phone-numbers':
                    loadPhoneNumbersData();
                    break;
                case 'workers':
                    loadWorkersData();
                    break;
            }
            
            loadedTabs.add(tabName);
        }

        // Phones functionality
        async function loadPhonesData() {
            try {
                const response = await fetch('/api/phones');
                const phones = await response.json();
                renderPhonesTable(phones);
            } catch (error) {
                console.error('Error loading phones:', error);
                showError('Failed to load phones data');
            }
        }

        function renderPhonesTable(phones) {
            const tbody = document.querySelector('#phones-table tbody');
            tbody.innerHTML = '';

            phones.forEach(phone => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-4 py-3">${phone.asset_tag}</td>
                    <td class="px-4 py-3">${phone.imei}</td>
                    <td class="px-4 py-3">${phone.manufacturer || '-'}</td>
                    <td class="px-4 py-3">${phone.model || '-'}</td>
                    <td class="px-4 py-3">
                        <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full 
                            ${getStatusColor(phone.status)}">${phone.status}</span>
                    </td>
                    <td class="px-4 py-3">
                        <button onclick="editPhone(${phone.id})" class="btn-secondary btn-sm mr-2">{{ _('Edit') }}</button>
                        <button onclick="deletePhone(${phone.id})" class="btn-danger btn-sm">{{ _('Delete') }}</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // SIM Cards functionality
        async function loadSimsData() {
            try {
                const response = await fetch('/api/sims');
                const sims = await response.json();
                renderSimsTable(sims);
            } catch (error) {
                console.error('Error loading SIMs:', error);
                showError('Failed to load SIM cards data');
            }
        }

        function renderSimsTable(sims) {
            const tbody = document.querySelector('#sims-table tbody');
            tbody.innerHTML = '';

            sims.forEach(sim => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-4 py-3">${sim.iccid}</td>
                    <td class="px-4 py-3">${sim.carrier || '-'}</td>
                    <td class="px-4 py-3">${sim.phone_number || '-'}</td>
                    <td class="px-4 py-3">
                        <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full 
                            ${getStatusColor(sim.status)}">${sim.status}</span>
                    </td>
                    <td class="px-4 py-3">
                        <button onclick="editSim(${sim.id})" class="btn-secondary btn-sm mr-2">{{ _('Edit') }}</button>
                        <button onclick="deleteSim(${sim.id})" class="btn-danger btn-sm">{{ _('Delete') }}</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Phone Numbers functionality
        async function loadPhoneNumbersData() {
            try {
                const response = await fetch('/api/phone-numbers');
                const numbers = await response.json();
                renderPhoneNumbersTable(numbers);
            } catch (error) {
                console.error('Error loading phone numbers:', error);
                showError('Failed to load phone numbers data');
            }
        }

        function renderPhoneNumbersTable(numbers) {
            const tbody = document.querySelector('#phone-numbers-table tbody');
            tbody.innerHTML = '';

            numbers.forEach(number => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-4 py-3">${number.phone_number}</td>
                    <td class="px-4 py-3">${number.iccid || '-'}</td>
                    <td class="px-4 py-3">${number.carrier || '-'}</td>
                    <td class="px-4 py-3">
                        <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full 
                            ${getAssignmentStatusColor(number.assignment_status)}">${number.assignment_status}</span>
                    </td>
                    <td class="px-4 py-3">${number.assigned_to_worker || '-'}</td>
                    <td class="px-4 py-3">
                        <button onclick="editPhoneNumber(${number.id})" class="btn-secondary btn-sm mr-2">{{ _('Edit') }}</button>
                        <button onclick="deletePhoneNumber(${number.id})" class="btn-danger btn-sm">{{ _('Delete') }}</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Workers functionality
        async function loadWorkersData() {
            try {
                const response = await fetch('/api/workers');
                const workers = await response.json();
                renderWorkersTable(workers);
            } catch (error) {
                console.error('Error loading workers:', error);
                showError('Failed to load workers data');
            }
        }

        function renderWorkersTable(workers) {
            const tbody = document.querySelector('#workers-table tbody');
            tbody.innerHTML = '';

            workers.forEach(worker => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-4 py-3">${worker.worker_id}</td>
                    <td class="px-4 py-3">${worker.full_name}</td>
                    <td class="px-4 py-3">${worker.secteur_name || '-'}</td>
                    <td class="px-4 py-3">
                        <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full 
                            ${getStatusColor(worker.status)}">${worker.status}</span>
                    </td>
                    <td class="px-4 py-3">
                        <button onclick="editWorker(${worker.id})" class="btn-secondary btn-sm mr-2">{{ _('Edit') }}</button>
                        <button onclick="deleteWorker(${worker.id})" class="btn-danger btn-sm">{{ _('Delete') }}</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Utility functions
        function getStatusColor(status) {
            switch(status) {
                case 'In Stock': case 'Active':
                    return 'bg-green-100 text-green-800';
                case 'In Use':
                    return 'bg-blue-100 text-blue-800';
                case 'Maintenance':
                    return 'bg-yellow-100 text-yellow-800';
                case 'Retired': case 'Inactive':
                    return 'bg-red-100 text-red-800';
                default:
                    return 'bg-gray-100 text-gray-800';
            }
        }

        function getAssignmentStatusColor(status) {
            switch(status) {
                case 'Assigned':
                    return 'bg-blue-100 text-blue-800';
                case 'Available':
                    return 'bg-green-100 text-green-800';
                case 'Unassigned':
                    return 'bg-gray-100 text-gray-800';
                default:
                    return 'bg-gray-100 text-gray-800';
            }
        }

        function showError(message) {
            // Simple error display - you can enhance this
            console.error(message);
            alert(message);
        }

        // Action functions (to be implemented)
        window.editPhone = function(id) {
            window.location.href = `/admin/phones?edit=${id}`;
        };

        window.deletePhone = function(id) {
            if (confirm('Are you sure you want to delete this phone?')) {
                // Implement delete functionality
            }
        };

        window.editSim = function(id) {
            window.location.href = `/admin/sims?edit=${id}`;
        };

        window.deleteSim = function(id) {
            if (confirm('Are you sure you want to delete this SIM card?')) {
                // Implement delete functionality
            }
        };

        window.editPhoneNumber = function(id) {
            window.location.href = `/admin/phone-numbers?edit=${id}`;
        };

        window.deletePhoneNumber = function(id) {
            if (confirm('Are you sure you want to delete this phone number?')) {
                // Implement delete functionality
            }
        };

        window.editWorker = function(id) {
            window.location.href = `/admin/workers?edit=${id}`;
        };

        window.deleteWorker = function(id) {
            if (confirm('Are you sure you want to delete this worker?')) {
                // Implement delete functionality
            }
        };

        // Add button functionality
        document.getElementById('add-phone-btn').addEventListener('click', () => {
            window.location.href = '/admin/phones?add=true';
        });

        document.getElementById('add-sim-btn').addEventListener('click', () => {
            window.location.href = '/admin/sims?add=true';
        });

        document.getElementById('add-phone-number-btn').addEventListener('click', () => {
            window.location.href = '/admin/phone-numbers?add=true';
        });

        document.getElementById('add-worker-btn').addEventListener('click', () => {
            window.location.href = '/admin/workers?add=true';
        });

        // Initialize
        initTabs();
        
        // Load overview tab by default since it's now the first tab
        loadOverviewData();
    });

    // Overview tab functionality
    function loadOverviewData() {
        const container = document.getElementById('overview-container');
        container.innerHTML = '<div class="text-center py-8 text-gray-500">{{ _("Loading workers data...") }}</div>';

        fetch('/api/admin/all_workers_status')
            .then(response => response.json())
            .then(data => {
                displayOverviewData(data);
                setupOverviewFilters(data);
            })
            .catch(error => {
                console.error('Error loading overview data:', error);
                container.innerHTML = '<div class="text-center py-8 text-red-500">{{ _("Error loading data") }}</div>';
            });
    }

    function displayOverviewData(workersData) {
        const container = document.getElementById('overview-container');
        
        if (!workersData || workersData.length === 0) {
            container.innerHTML = '<div class="text-center py-8 text-gray-500">{{ _("No workers found") }}</div>';
            return;
        }

        // Group workers by sector
        const workersBySector = {};
        workersData.forEach(worker => {
            const sectorName = worker.secteur_name || '{{ _("No Sector") }}';
            if (!workersBySector[sectorName]) {
                workersBySector[sectorName] = [];
            }
            workersBySector[sectorName].push(worker);
        });

        let html = '';
        for (const [sectorName, workers] of Object.entries(workersBySector)) {
            html += `
                <div class="custom-card sector-card" data-sector="${sectorName}">
                    <div class="card-header">
                        <h3 class="card-title">${sectorName} (${workers.length} {{ _('workers') }})</h3>
                    </div>
                    <div class="p-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            ${workers.map(worker => createWorkerCard(worker)).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        container.innerHTML = html;
    }

    function createWorkerCard(worker) {
        const cardBgClass = getCardBackgroundClass(worker.contract_type, worker.contract_end_date);
        const hasPhone = worker.phone_id ? true : false;
        const ticketsClass = worker.open_ticket_count > 0 ? 'text-red-600' : 'text-green-600';
        
        return `
            <div class="worker-card ${cardBgClass} rounded-lg shadow-md border p-4 hover:shadow-lg transition-shadow" 
                 data-worker-name="${worker.worker_name}" 
                 data-worker-status="${worker.status}"
                 data-phone-status="${worker.phone_status || ''}"
                 data-sector="${worker.secteur_name || ''}">
                <!-- Worker Header -->
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold">
                            ${worker.worker_name.split(' ').map(n => n[0]).join('').substring(0, 2)}
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-900">${worker.worker_name}</h3>
                            <p class="text-sm text-gray-500">ID: ${worker.worker_id}</p>
                        </div>
                    </div>
                    <span class="status-badge ${worker.status.toLowerCase()}">${worker.status}</span>
                </div>
                
                <!-- Contract Alert if CDD with warning -->
                ${worker.contract_type === 'CDD' && worker.contract_end_date ? `
                    <div class="mb-3 p-2 rounded-md ${(() => {
                        const today = new Date();
                        const endDate = new Date(worker.contract_end_date);
                        const diffDays = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
                        if (diffDays < 0) return 'bg-red-200 text-red-800';
                        if (diffDays <= 5) return 'bg-red-100 text-red-700';
                        if (diffDays <= 10) return 'bg-yellow-100 text-yellow-700';
                        return 'hidden';
                    })()}">
                        <div class="flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                            <span class="text-xs font-medium">
                                ${(() => {
                                    const today = new Date();
                                    const endDate = new Date(worker.contract_end_date);
                                    const diffDays = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
                                    if (diffDays < 0) return '{{ _("Contract expired!") }}';
                                    if (diffDays <= 5) return `{{ _("Contract ends in") }} ${diffDays} {{ _("days") }}!`;
                                    if (diffDays <= 10) return `{{ _("Contract ends in") }} ${diffDays} {{ _("days") }}`;
                                    return '';
                                })()}
                            </span>
                        </div>
                    </div>
                ` : ''}
                
                <!-- Phone Information -->
                <div class="space-y-2">
                    ${hasPhone ? `
                        <div class="bg-blue-50 p-3 rounded-md">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                                    </svg>
                                    <span class="text-sm font-medium text-blue-900">${worker.asset_tag}</span>
                                </div>
                                <span class="text-xs px-2 py-1 rounded-full ${worker.phone_status === 'In Use' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">${worker.phone_status}</span>
                            </div>
                            <div class="mt-1 text-xs text-blue-700">
                                ${worker.manufacturer} ${worker.model}
                                ${worker.phone_number ? `• ${worker.phone_number}` : ''}
                                ${worker.carrier ? `• ${worker.carrier}` : ''}
                            </div>
                        </div>
                    ` : `
                        <div class="bg-gray-50 p-3 rounded-md">
                            <div class="flex items-center space-x-2">
                                <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M10 2L3 7v11h14V7l-7-5z"></path>
                                </svg>
                                <span class="text-sm text-gray-600">{{ _('No phone assigned') }}</span>
                            </div>
                        </div>
                    `}
                    
                    <!-- Tickets Information -->
                    <div class="flex items-center justify-between text-xs">
                        <span class="${ticketsClass} font-medium">
                            ${worker.open_ticket_count} {{ _('open tickets') }}
                        </span>
                        ${worker.pending_swaps > 0 ? `
                            <span class="bg-orange-100 text-orange-800 px-2 py-1 rounded-full">
                                ${worker.pending_swaps} {{ _('pending swaps') }}
                            </span>
                        ` : ''}
                    </div>
                </div>
            </div>
        `;
    }

    function getCardBackgroundClass(contractType, contractEndDate) {
        if (contractType === 'CDD' && contractEndDate) {
            const today = new Date();
            const endDate = new Date(contractEndDate);
            const diffDays = Math.ceil((endDate - today) / (1000 * 60 * 60 * 24));
            
            if (diffDays < 0) return 'bg-red-50 border-red-200';
            if (diffDays <= 5) return 'bg-red-50 border-red-200';
            if (diffDays <= 10) return 'bg-yellow-50 border-yellow-200';
        }
        return 'bg-white';
    }

    function setupOverviewFilters(originalData) {
        // Populate sector filter
        const sectorFilter = document.getElementById('overview-sector-filter');
        const sectors = [...new Set(originalData.map(w => w.secteur_name || 'No Sector'))].sort();
        
        sectorFilter.innerHTML = '<option value="">Tous les Secteurs</option>';
        sectors.forEach(sector => {
            sectorFilter.innerHTML += `<option value="${sector}">${sector}</option>`;
        });

        // Set up filter event listeners
        const workerStatusFilter = document.getElementById('overview-worker-status-filter');
        const phoneStatusFilter = document.getElementById('overview-phone-status-filter');
        const workerSearchFilter = document.getElementById('overview-worker-search');

        function applyFilters() {
            const sectorValue = sectorFilter.value;
            const workerStatusValue = workerStatusFilter.value;
            const phoneStatusValue = phoneStatusFilter.value;
            const searchValue = workerSearchFilter.value.toLowerCase();

            const workerCards = document.querySelectorAll('.worker-card');
            const sectorCards = document.querySelectorAll('.sector-card');

            workerCards.forEach(card => {
                const workerName = card.dataset.workerName.toLowerCase();
                const workerStatus = card.dataset.workerStatus;
                const phoneStatus = card.dataset.phoneStatus;
                const sector = card.dataset.sector;

                let visible = true;

                if (sectorValue && sector !== sectorValue) visible = false;
                if (workerStatusValue && workerStatus !== workerStatusValue) visible = false;
                if (phoneStatusValue && phoneStatus !== phoneStatusValue) visible = false;
                if (searchValue && !workerName.includes(searchValue)) visible = false;

                card.style.display = visible ? 'block' : 'none';
            });

            // Hide empty sectors
            sectorCards.forEach(sectorCard => {
                const visibleWorkers = sectorCard.querySelectorAll('.worker-card:not([style*="display: none"])');
                sectorCard.style.display = visibleWorkers.length > 0 ? 'block' : 'none';
            });
        }

        sectorFilter.addEventListener('change', applyFilters);
        workerStatusFilter.addEventListener('change', applyFilters);
        phoneStatusFilter.addEventListener('change', applyFilters);
        workerSearchFilter.addEventListener('input', applyFilters);
    }
</script>

<style>
    .tab-button {
        padding: 0.5rem 1rem;
        border-bottom: 2px solid transparent;
        font-weight: 500;
        font-size: 0.875rem;
        cursor: pointer;
        color: #6b7280;
        transition: all 0.2s ease;
        border: none;
        background: none;
    }

    .tab-button.active {
        color: #2563eb;
        border-color: #2563eb;
    }

    .tab-button:hover:not(.active) {
        color: #6b7280;
        border-color: #d1d5db;
    }

    .tab-panel {
        display: none;
    }

    .tab-panel.active {
        display: block;
    }

    .btn-sm {
        padding: 0.375rem 0.75rem;
        font-size: 0.75rem;
    }

    /* Status badges for workers */
    .status-badge {
        padding: 0.25rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        text-transform: capitalize;
    }

    .status-badge.active {
        background-color: #10b981;
        color: white;
    }

    .status-badge.inactive {
        background-color: #6b7280;
        color: white;
    }

    .status-badge.arrêt {
        background-color: #ef4444;
        color: white;
    }

    .status-badge.congés {
        background-color: #f59e0b;
        color: white;
    }

    /* Worker cards styling */
    .worker-card {
        transition: all 0.2s ease;
    }

    .worker-card:hover {
        transform: translateY(-2px);
    }
</style>
{% endblock %}
